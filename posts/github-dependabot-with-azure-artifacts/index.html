<!DOCTYPE html><html lang="en" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="generator" content="Jekyll v4.2.2" /><meta property="og:title" content="Use Dependabot in GitHub with Azure Artifacts" /><meta name="author" content="Josh Johanning" /><meta property="og:locale" content="en" /><meta name="description" content="Using Dependabot to update your dependencies that are hosted in Azure Artifacts" /><meta property="og:description" content="Using Dependabot to update your dependencies that are hosted in Azure Artifacts" /><link rel="canonical" href="https://josh-ops.com/posts/github-dependabot-with-azure-artifacts/" /><meta property="og:url" content="https://josh-ops.com/posts/github-dependabot-with-azure-artifacts/" /><meta property="og:site_name" content="josh-ops" /><meta property="og:image" content="https://josh-ops.com/dependabot-pr.png" /><meta property="og:image:height" content="100%" /><meta property="og:image:width" content="100%" /><meta property="og:image:alt" content="Pull request from Dependabot with package residing in Azure Artifacts" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2022-03-10T08:00:00-06:00" /><meta name="twitter:card" content="summary_large_image" /><meta property="twitter:image" content="https://josh-ops.com/dependabot-pr.png" /><meta name="twitter:image:alt" content="Pull request from Dependabot with package residing in Azure Artifacts" /><meta property="twitter:title" content="Use Dependabot in GitHub with Azure Artifacts" /><meta name="twitter:site" content="@jjjettrain" /><meta name="twitter:creator" content="@Josh Johanning" /><meta name="google-site-verification" content="google-site-verification=eTIC71VhPBtwll8rNv7qlXud1yJh6E88No39MdcM_MI" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Josh Johanning"},"dateModified":"2022-07-01T15:39:30-05:00","datePublished":"2022-03-10T08:00:00-06:00","description":"Using Dependabot to update your dependencies that are hosted in Azure Artifacts","headline":"Use Dependabot in GitHub with Azure Artifacts","image":{"width":"100%","height":"100%","alt":"Pull request from Dependabot with package residing in Azure Artifacts","url":"https://josh-ops.com/dependabot-pr.png","@type":"imageObject"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://josh-ops.com/posts/github-dependabot-with-azure-artifacts/"},"url":"https://josh-ops.com/posts/github-dependabot-with-azure-artifacts/"}</script><title>Use Dependabot in GitHub with Azure Artifacts | josh-ops</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="josh-ops"><meta name="application-name" content="josh-ops"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get MODE_ATTR() { return "data-mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } static get ID() { return "mode-toggle"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } let self = this; /* always follow the system prefers */ this.sysDarkPrefers.addEventListener("change", () => { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.notify(); }); } /* constructor() */ get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode === ModeToggle.DARK_MODE; } get isLightMode() { return this.mode === ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer)) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } setDark() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_ATTR); sessionStorage.removeItem(ModeToggle.MODE_KEY); } /* Notify another plugins that the theme mode has changed */ notify() { window.postMessage({ direction: ModeToggle.ID, message: this.modeStatus }, "*"); } } /* ModeToggle */ const toggle = new ModeToggle(); function flipMode() { if (toggle.hasMode) { if (toggle.isSysDarkPrefer) { if (toggle.isLightMode) { toggle.clearMode(); } else { toggle.setLight(); } } else { if (toggle.isDarkMode) { toggle.clearMode(); } else { toggle.setDark(); } } } else { if (toggle.isSysDarkPrefer) { toggle.setLight(); } else { toggle.setDark(); } } toggle.notify(); } /* flipMode() */ </script><body data-spy="scroll" data-target="#toc" data-topbar-visible="true"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" class="mx-auto"> <img src="/assets/img/sample/headshot.png" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">josh-ops</a></div><div class="site-subtitle font-italic">A DevOps Blog</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a><li class="nav-item"> <a href="/speaking/" class="nav-link"> <i class="fa-fw fas fa-comment ml-xl-3 mr-xl-3 unloaded"></i> <span>SPEAKING</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <button class="mode-toggle btn" aria-label="Switch Mode"> <i class="fas fa-adjust"></i> </button> <span class="icon-border"></span> <a href="https://github.com/joshjohanning" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github"></i> </a> <a href="https://twitter.com/jjjettrain" aria-label="twitter" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href="https://www.linkedin.com/in/joshua-johanning/" aria-label="linkedin" target="_blank" rel="noopener"> <i class="fab fa-linkedin"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper"><div id="topbar" class="container d-flex align-items-center justify-content-between h-100 pl-3 pr-3 pl-md-4 pr-md-4"> <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>Use Dependabot in GitHub with Azure Artifacts</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper" class="d-flex justify-content-center"><div id="main" class="container pl-xl-4 pr-xl-4"><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-9 pr-xl-4"><div class="post pl-1 pr-1 pl-md-2 pr-md-2"><h1 data-toc-skip>Use Dependabot in GitHub with Azure Artifacts</h1><div class="post-meta text-muted"> <span> Posted <em class="" data-ts="1646920800" data-df="ll" data-toggle="tooltip" data-placement="bottom"> Mar 10, 2022 </em> </span> <span> Updated <em class="" data-ts="1656707970" data-df="ll" data-toggle="tooltip" data-placement="bottom"> Jul 1, 2022 </em> </span><div class="mt-3 mb-3"> <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100% 100%'%3E%3C/svg%3E" data-src="/assets/screenshots/2022-03-10-github-dependabot-with-azure-artifacts/dependabot-pr.png" class="preview-img bg" alt="Pull request from Dependabot with package residing in Azure Artifacts" width="100%" height="100%" data-proofer-ignore><figcaption class="pt-2 pb-2">Pull request from Dependabot with package residing in Azure Artifacts</figcaption></div><div class="d-flex justify-content-between"> <span> By <em> Josh Johanning </em> </span><div> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="741 words"> <em>4 min</em> read</span></div></div></div><div class="post-content"><h2 id="overview"><span class="mr-2">Overview</span><a href="#overview" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>If you have heavy investment in Azure Artifacts, it can be hard to fully transition to <a href="https://docs.github.com/en/packages/learn-github-packages/introduction-to-github-packages">GitHub Packages</a>. However, there is a bit of a transition. In GitHub, while you can see a list of packages the <a href="https://docs.github.com/en/packages/learn-github-packages/viewing-packages#viewing-an-organizations-packages">organization level</a>, the packages are installed <em>to a specific repository.</em> For further detail, here are the instructions for pushing various package ecosystems to GitHub:</p><ul><li><a href="https://docs.github.com/en/actions/publishing-packages/publishing-nodejs-packages">npm</a><li><a href="https://docs.github.com/en/packages/working-with-a-github-packages-registry/working-with-the-nuget-registry">NuGet</a><li><a href="https://docs.github.com/en/actions/publishing-packages/publishing-java-packages-with-maven">Maven</a><li><a href="https://docs.github.com/en/actions/publishing-packages/publishing-docker-images">Docker</a></ul><p>Alright but you might be thinking, if I’m not using GitHub Packages, won’t Dependabot not work then? Well, no. <a href="https://github.blog/2020-06-01-keep-all-your-packages-up-to-date-with-dependabot/">Dependabot</a> is not just for keeping your public packages up to date - Dependabot also supports private feeds, including Azure Artifacts!</p><h2 id="configuration"><span class="mr-2">Configuration</span><a href="#configuration" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>For this to work, you just have to set up a <a href="https://docs.github.com/en/code-security/supply-chain-security/keeping-your-dependencies-updated-automatically/managing-encrypted-secrets-for-dependabot">Dependabot secret</a>. I called my secret <code class="language-plaintext highlighter-rouge">AZURE_DEVOPS_PAT</code> below.</p><p>Here is the full <code class="language-plaintext filepath highlighter-rouge">.github/dependabot.yml</code> configuration:</p><div file=".github/dependabot.yml" class="language-yml highlighter-rouge"><div class="code-header"> <span data-label-text=".github/dependabot.yml"><i class="far fa-file-code"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
</pre><td class="rouge-code"><pre><span class="na">version</span><span class="pi">:</span> <span class="m">2</span>
<span class="na">registries</span><span class="pi">:</span>
  <span class="na">npm-azure-artifacts</span><span class="pi">:</span>
    <span class="na">type</span><span class="pi">:</span> <span class="s">npm-registry</span>
    <span class="na">url</span><span class="pi">:</span> <span class="s">https://pkgs.dev.azure.com/jjohanning0798/PartsUnlimited/_packaging/npm-example/npm/registry/</span> 
    <span class="na">username</span><span class="pi">:</span> <span class="s">jjohanning0798</span>
    <span class="na">password</span><span class="pi">:</span> <span class="s">${{ secrets.AZURE_DEVOPS_PAT }}</span>  <span class="c1"># Must be an unencoded password</span>
<span class="na">updates</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">package-ecosystem</span><span class="pi">:</span> <span class="s2">"</span><span class="s">npm"</span>
    <span class="na">directory</span><span class="pi">:</span> <span class="s2">"</span><span class="s">/"</span>
    <span class="na">registries</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s">npm-azure-artifacts</span>
    <span class="na">schedule</span><span class="pi">:</span>
      <span class="na">interval</span><span class="pi">:</span> <span class="s2">"</span><span class="s">daily"</span>
</pre></table></code></div></div><h2 id="confirming-it-works"><span class="mr-2">Confirming it works</span><a href="#confirming-it-works" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>Shortly after committing the <code class="language-plaintext filepath highlighter-rouge">.dependabot.yml</code> file, we can confirm it works as there’s a new PR from Dependabot: <img data-src="/assets/screenshots/2022-03-10-github-dependabot-with-azure-artifacts/dependabot-pr.png" alt="Dependabot logs" class="shadow" data-proofer-ignore> <em>Pull request created by Dependabot</em></p><p>We can also look at our <a href="https://docs.github.com/en/code-security/supply-chain-security/managing-vulnerabilities-in-your-projects-dependencies/troubleshooting-dependabot-errors#investigating-errors-with-dependabot-version-updates">Dependabot logs</a>:</p><p><img data-src="/assets/screenshots/2022-03-10-github-dependabot-with-azure-artifacts/dependabot-logs.png" alt="Dependabot logs" class="shadow" data-proofer-ignore> <em>Dependabot logs showing that there is a new package version from Azure Artifacts</em></p><h2 id="troubleshooting"><span class="mr-2">Troubleshooting</span><a href="#troubleshooting" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><h3 id="dont-use-token-with-azure-devops"><span class="mr-2">Don’t use token with Azure DevOps</span><a href="#dont-use-token-with-azure-devops" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>If you follow the <a href="https://docs.github.com/en/code-security/supply-chain-security/keeping-your-dependencies-updated-automatically/configuration-options-for-dependency-updates#nuget-feed">Dependabot documentation for NuGet</a> that’s there today, for example, it has you use a <code class="language-plaintext highlighter-rouge">token</code> property instead of <code class="language-plaintext highlighter-rouge">username</code> and <code class="language-plaintext highlighter-rouge">password</code>:</p><div class="language-yml highlighter-rouge"><div class="code-header"> <span data-label-text="YAML"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre><span class="na">registries</span><span class="pi">:</span>
  <span class="na">nuget-azure-devops</span><span class="pi">:</span>
    <span class="na">type</span><span class="pi">:</span> <span class="s">nuget-feed</span>
    <span class="na">url</span><span class="pi">:</span> <span class="s">https://pkgs.dev.azure.com/.../_packaging/My_Feed/nuget/v3/index.json</span>
    <span class="na">token</span><span class="pi">:</span> <span class="s">${{secrets.MY_AZURE_DEVOPS_TOKEN}}</span> <span class="c1"># this doesn't work</span>
</pre></table></code></div></div><p>If you check your <a href="https://docs.github.com/en/code-security/supply-chain-security/managing-vulnerabilities-in-your-projects-dependencies/troubleshooting-dependabot-errors#investigating-errors-with-dependabot-version-updates">Dependabot logs</a>, you will probably see <code class="language-plaintext highlighter-rouge">401</code> or <code class="language-plaintext highlighter-rouge">private_source_authentication_failure</code> errors. This is because Azure Artifacts needs to use basic authentication, which using the <code class="language-plaintext highlighter-rouge">username</code> and <code class="language-plaintext highlighter-rouge">password</code> fields provide. The username isn’t used, but the password has to be an unencoded personal access token.</p><div class="language-yml highlighter-rouge"><div class="code-header"> <span data-label-text="YAML"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre><td class="rouge-code"><pre><span class="na">registries</span><span class="pi">:</span>
  <span class="na">nuget-azure-devops</span><span class="pi">:</span>
    <span class="na">type</span><span class="pi">:</span> <span class="s">nuget-feed</span>
    <span class="na">url</span><span class="pi">:</span> <span class="s">https://pkgs.dev.azure.com/.../_packaging/My_Feed/nuget/v3/index.json</span>
    <span class="na">username</span><span class="pi">:</span> <span class="s">octocat@example.com</span>
    <span class="na">password</span><span class="pi">:</span> <span class="s">${{secrets.MY_AZURE_DEVOPS_TOKEN}}</span> <span class="c1"># this works</span>
</pre></table></code></div></div><p>Alternatively, you could still use <code class="language-plaintext highlighter-rouge">token</code>, but just append a <code class="language-plaintext highlighter-rouge">:</code> at the end of the PAT as mentioned in this <a href="https://github.com/dependabot/dependabot-core/issues/3555">issue here</a>.</p><h3 id="pull-request-limit"><span class="mr-2">Pull request limit</span><a href="#pull-request-limit" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>Another reason you might not be seeing your pull request from an outdated dependency in Azure Artifacts is if the pull request limit is not defined. By default, the limit is 5, so Dependabot will only create 5 pull requests for version updates as to not inundate you. If you check your pull requests, you might see you have more than 5, but some of those might be Dependabot Security Alerts, which don’t count to that limit.</p><p>See the <a href="https://docs.github.com/en/code-security/supply-chain-security/keeping-your-dependencies-updated-automatically/configuration-options-for-dependency-updates">docs</a>, but here’s an example (see: <code class="language-plaintext highlighter-rouge">open-pull-requests-limit</code> on line 15):</p><div file=".github/dependabot.yml" class="language-yml highlighter-rouge"><div class="code-header"> <span data-label-text=".github/dependabot.yml"><i class="far fa-file-code"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
</pre><td class="rouge-code"><pre><span class="na">version</span><span class="pi">:</span> <span class="m">2</span>
<span class="na">registries</span><span class="pi">:</span>
  <span class="na">npm-azure-artifacts</span><span class="pi">:</span>
    <span class="na">type</span><span class="pi">:</span> <span class="s">npm-registry</span>
    <span class="na">url</span><span class="pi">:</span> <span class="s">https://pkgs.dev.azure.com/jjohanning0798/PartsUnlimited/_packaging/npm-example/npm/registry/</span> 
    <span class="na">username</span><span class="pi">:</span> <span class="s">jjohanning0798</span>
    <span class="na">password</span><span class="pi">:</span> <span class="s">${{ secrets.AZURE_DEVOPS_PAT }}</span>  <span class="c1"># Must be an unencoded password</span>
<span class="na">updates</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">package-ecosystem</span><span class="pi">:</span> <span class="s2">"</span><span class="s">npm"</span>
    <span class="na">directory</span><span class="pi">:</span> <span class="s2">"</span><span class="s">/"</span>
    <span class="na">registries</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s">npm-azure-artifacts</span>
    <span class="na">schedule</span><span class="pi">:</span>
      <span class="na">interval</span><span class="pi">:</span> <span class="s2">"</span><span class="s">daily"</span>
    <span class="na">open-pull-requests-limit</span><span class="pi">:</span> <span class="m">15</span>
</pre></table></code></div></div><h3 id="dependabot-misconfiguration"><span class="mr-2">Dependabot misconfiguration</span><a href="#dependabot-misconfiguration" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>If you have any other misconfiguration, such as the registry names not matching, you will be able to see from the <a href="https://docs.github.com/en/code-security/supply-chain-security/managing-vulnerabilities-in-your-projects-dependencies/troubleshooting-dependabot-errors#investigating-errors-with-dependabot-version-updates">Dependabot logs</a> as well. Here’s an example of such an error where the two registry names didn’t match:</p><blockquote><p>The property ‘#/updates/0/registries’ includes the “nuget-azure-artifacts” registry which is not defined in the top-level ‘registries’ definition</p></blockquote><p>See the <a href="https://docs.github.com/en/code-security/supply-chain-security/keeping-your-dependencies-updated-automatically/configuration-options-for-dependency-updates">docs</a> for the configuration syntax and examples.</p><h3 id="re-running-dependabot"><span class="mr-2">Re-running Dependabot</span><a href="#re-running-dependabot" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>Even though you might have the schedule set to “daily”, Dependabot will run again if you push a change to the <code class="language-plaintext filepath highlighter-rouge">.github/dependabot.yml</code>. You can also run it manually at any time by navigating to:</p><ol><li>Insights<li>Dependency Graph<li>Dependabot<li>Click into the last run, e.g.: “last checked 16 hours ago”<li>Check for updates</ol><p><img data-src="/assets/screenshots/2022-03-10-github-dependabot-with-azure-artifacts/dependabot-update.png" alt="Manually run Dependabot again" class="shadow" data-proofer-ignore> <em>Check for Dependabot updates again manually</em></p><h2 id="summary"><span class="mr-2">Summary</span><a href="#summary" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>Being able to use Dependabot with Azure Artifacts is a great way to keep your internally-created packages up to date. Teams can be notified automatically that there’s a new version of the package available and after a successful build with passing unit tests, can accept and merge the PR. If a team doesn’t want to use the updated version, they can simply close the PR and it won’t be re-opened until a new version of the package is released. I always prefer to at least be notified of new versions, so I think this is awesome!</p><p>If the emails become too much, you can always modify your <a href="https://docs.github.com/en/account-and-profile/managing-subscriptions-and-notifications-on-github/setting-up-notifications/configuring-notifications">notification settings</a> 😀.</p></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/github/'>GitHub</a>, <a href='/categories/dependabot/'>Dependabot</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/github/" class="post-tag no-text-decoration" >GitHub</a> <a href="/tags/dependabot/" class="post-tag no-text-decoration" >Dependabot</a> <a href="/tags/azure-artifacts/" class="post-tag no-text-decoration" >Azure Artifacts</a> <a href="/tags/azure-devops/" class="post-tag no-text-decoration" >Azure DevOps</a> <a href="/tags/github-packages/" class="post-tag no-text-decoration" >GitHub Packages</a> <a href="/tags/pull-requests/" class="post-tag no-text-decoration" >Pull Requests</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=Use+Dependabot+in+GitHub+with+Azure+Artifacts+-+josh-ops&url=https%3A%2F%2Fjosh-ops.com%2Fposts%2Fgithub-dependabot-with-azure-artifacts%2F" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=Use+Dependabot+in+GitHub+with+Azure+Artifacts+-+josh-ops&u=https%3A%2F%2Fjosh-ops.com%2Fposts%2Fgithub-dependabot-with-azure-artifacts%2F" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://t.me/share/url?url=https%3A%2F%2Fjosh-ops.com%2Fposts%2Fgithub-dependabot-with-azure-artifacts%2F&text=Use+Dependabot+in+GitHub+with+Azure+Artifacts+-+josh-ops" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <a href="https://www.linkedin.com/sharing/share-offsite/?url=https%3A%2F%2Fjosh-ops.com%2Fposts%2Fgithub-dependabot-with-azure-artifacts%2F" data-toggle="tooltip" data-placement="top" title="Linkedin" target="_blank" rel="noopener" aria-label="Linkedin"> <i class="fa-fw fab fa-linkedin"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="Copy link" data-title-succeed="Link copied successfully!"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted"><div class="access"><div id="access-lastmod" class="post"><div class="panel-heading">Recently Updated</div><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/github-container-jobs/">Docker Container Jobs in GitHub Actions</a><li><a href="/posts/actions-runner-controller-without-cert-manager/">Configure actions-runner-controller without cert-manager</a><li><a href="/posts/azdo-commit-message-validator-and-pr-linker-github-action/">Azure DevOps Commit Message Validator and PR Linker GitHub Action</a><li><a href="/posts/azure-devops-migrate-work-items/">Azure DevOps: Migrate Work Items to New Organization / Project</a><li><a href="/posts/github-misc-scripts/">Miscellaneous GitHub API/GraphQL/CLI Automation Scripts</a></ul></div><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/github/">GitHub</a> <a class="post-tag" href="/tags/azure-devops/">Azure DevOps</a> <a class="post-tag" href="/tags/github-actions/">GitHub Actions</a> <a class="post-tag" href="/tags/pull-requests/">Pull Requests</a> <a class="post-tag" href="/tags/github-advanced-security/">GitHub Advanced Security</a> <a class="post-tag" href="/tags/scripts/">Scripts</a> <a class="post-tag" href="/tags/work-items/">Work Items</a> <a class="post-tag" href="/tags/branch-protection-rules/">Branch Protection Rules</a> <a class="post-tag" href="/tags/dependabot/">Dependabot</a> <a class="post-tag" href="/tags/codeql/">CodeQL</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"><div class="panel-heading pl-3 pt-2 mb-2">Contents</div><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 pl-3 pr-3 pr-xl-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/github-dependabot-for-actions/"><div class="card-body"> <em class="small" data-ts="1656766800" data-df="ll" > Jul 2, 2022 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Configure GitHub Dependabot to Keep Actions Up to Date</h3><div class="text-muted small"><p> Overview You probably know that Dependabot can be used to update your packages, such as NPM or NuGet, but did you also know you can use it to keep Actions up to date in your GitHub Actions Workflo...</p></div></div></a></div><div class="card"> <a href="/posts/authorize-azure-artifacts-in-github-actions/"><div class="card-body"> <em class="small" data-ts="1609791300" data-df="ll" > Jan 4, 2021 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Authorize and Restore Azure Artifacts NuGet Packages in GitHub Actions</h3><div class="text-muted small"><p> Summary While this post is geared towards Azure DevOps and Azure Artifacts, this approach will work for any third-party feed that requires authentication (like Artifactory!). I needed to be able ...</p></div></div></a></div><div class="card"> <a href="/posts/lap-around-github-advanced-security/"><div class="card-body"> <em class="small" data-ts="1659578400" data-df="ll" > Aug 3, 2022 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>A Lap Around GitHub Advanced Security (30m Video)</h3><div class="text-muted small"><p> Overview I realized that there wasn’t any content of me speaking on the internet, just blogging, so I thought I would at least create one! This is a video I created to explain the features of GitH...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/github-codeql-ignore-files/" class="btn btn-outline-primary" prompt="Older"><p>Ignore Files in GitHub CodeQL Analysis</p></a> <a href="/posts/migrate-azure-devops-work-items-to-github-issues/" class="btn btn-outline-primary" prompt="Newer"><p>Migrate Azure DevOps Work Items to GitHub Issues</p></a></div><script src="https://utteranc.es/client.js" repo="joshjohanning/joshjohanning.github.io" issue-term="title" crossorigin="anonymous" async> </script> <script type="text/javascript"> $(function() { const origin = "https://utteranc.es"; const iframe = "iframe.utterances-frame"; const lightTheme = "github-light"; const darkTheme = "github-dark"; let initTheme = lightTheme; if ($("html[data-mode=dark]").length > 0 || ($("html[data-mode]").length == 0 && window.matchMedia("(prefers-color-scheme: dark)").matches)) { initTheme = darkTheme; } addEventListener("message", (event) => { let theme; /* credit to <https://github.com/utterance/utterances/issues/170#issuecomment-594036347> */ if (event.origin === origin) { /* page initial */ theme = initTheme; } else if (event.source === window && event.data && event.data.direction === ModeToggle.ID) { /* global theme mode changed */ const mode = event.data.message; theme = (mode === ModeToggle.DARK_MODE ? darkTheme : lightTheme); } else { return; } const message = { type: "set-theme", theme: theme }; const utterances = document.querySelector(iframe).contentWindow; utterances.postMessage(message, origin); }); }); </script></div></div><footer class="row pl-3 pr-3"><div class="col-12 d-flex justify-content-between align-items-center text-muted pl-0 pr-0"><div class="footer-left"><p class="mb-0"> © 2022 <a href="https://github.com/joshjohanning">Josh Johanning</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/github/">GitHub</a> <a class="post-tag" href="/tags/azure-devops/">Azure DevOps</a> <a class="post-tag" href="/tags/github-actions/">GitHub Actions</a> <a class="post-tag" href="/tags/pull-requests/">Pull Requests</a> <a class="post-tag" href="/tags/github-advanced-security/">GitHub Advanced Security</a> <a class="post-tag" href="/tags/scripts/">Scripts</a> <a class="post-tag" href="/tags/work-items/">Work Items</a> <a class="post-tag" href="/tags/branch-protection-rules/">Branch Protection Rules</a> <a class="post-tag" href="/tags/dependabot/">Dependabot</a> <a class="post-tag" href="/tags/codeql/">CodeQL</a></div></div></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No results found.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/lozad/dist/lozad.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/dayjs@1/dayjs.min.js,npm/dayjs@1/locale/en.min.js,npm/dayjs@1/plugin/relativeTime.min.js,npm/dayjs@1/plugin/localizedFormat.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/js/bootstrap.bundle.min.js"></script> <script defer src="/unregister.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=G-GE92ZJY22K"></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'G-GE92ZJY22K'); }); </script>
