<!DOCTYPE html><html lang="en" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="generator" content="Jekyll v4.2.2" /><meta property="og:title" content="Azure DevOps: Migrate Work Items to New Organization / Project" /><meta name="author" content="Josh Johanning" /><meta property="og:locale" content="en" /><meta name="description" content="Migrating work items to a different project or organization in Azure DevOps isn’t as easy it should be. There are various ways to do so, with various levels of complexity and various levels of fidelity (history, for example)." /><meta property="og:description" content="Migrating work items to a different project or organization in Azure DevOps isn’t as easy it should be. There are various ways to do so, with various levels of complexity and various levels of fidelity (history, for example)." /><link rel="canonical" href="https://josh-ops.com/posts/azure-devops-migrate-work-items/" /><meta property="og:url" content="https://josh-ops.com/posts/azure-devops-migrate-work-items/" /><meta property="og:site_name" content="josh-ops" /><meta property="og:image" content="https://josh-ops.com/assets/screenshots/2021-09-29-azure-devops-migrate-work-items/bulk-move-team-project.png" /><meta property="og:image:height" content="361" /><meta property="og:image:width" content="584" /><meta property="og:image:alt" content="Migrating work items to a new project in Azure DevOps" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2021-09-29T20:35:00-05:00" /><meta name="twitter:card" content="summary_large_image" /><meta property="twitter:image" content="https://josh-ops.com/assets/screenshots/2021-09-29-azure-devops-migrate-work-items/bulk-move-team-project.png" /><meta name="twitter:image:alt" content="Migrating work items to a new project in Azure DevOps" /><meta property="twitter:title" content="Azure DevOps: Migrate Work Items to New Organization / Project" /><meta name="twitter:site" content="@jjjettrain" /><meta name="twitter:creator" content="@Josh Johanning" /><meta name="google-site-verification" content="google-site-verification=eTIC71VhPBtwll8rNv7qlXud1yJh6E88No39MdcM_MI" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Josh Johanning"},"dateModified":"2022-08-12T13:11:43-05:00","datePublished":"2021-09-29T20:35:00-05:00","description":"Migrating work items to a different project or organization in Azure DevOps isn’t as easy it should be. There are various ways to do so, with various levels of complexity and various levels of fidelity (history, for example).","headline":"Azure DevOps: Migrate Work Items to New Organization / Project","image":{"width":584,"height":361,"alt":"Migrating work items to a new project in Azure DevOps","url":"https://josh-ops.com/assets/screenshots/2021-09-29-azure-devops-migrate-work-items/bulk-move-team-project.png","@type":"imageObject"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://josh-ops.com/posts/azure-devops-migrate-work-items/"},"url":"https://josh-ops.com/posts/azure-devops-migrate-work-items/"}</script><title>Azure DevOps: Migrate Work Items to New Organization / Project | josh-ops</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="josh-ops"><meta name="application-name" content="josh-ops"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get MODE_ATTR() { return "data-mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } static get ID() { return "mode-toggle"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } let self = this; /* always follow the system prefers */ this.sysDarkPrefers.addEventListener("change", () => { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.notify(); }); } /* constructor() */ get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode === ModeToggle.DARK_MODE; } get isLightMode() { return this.mode === ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer)) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } setDark() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_ATTR); sessionStorage.removeItem(ModeToggle.MODE_KEY); } /* Notify another plugins that the theme mode has changed */ notify() { window.postMessage({ direction: ModeToggle.ID, message: this.modeStatus }, "*"); } } /* ModeToggle */ const toggle = new ModeToggle(); function flipMode() { if (toggle.hasMode) { if (toggle.isSysDarkPrefer) { if (toggle.isLightMode) { toggle.clearMode(); } else { toggle.setLight(); } } else { if (toggle.isDarkMode) { toggle.clearMode(); } else { toggle.setDark(); } } } else { if (toggle.isSysDarkPrefer) { toggle.setLight(); } else { toggle.setDark(); } } toggle.notify(); } /* flipMode() */ </script><body data-spy="scroll" data-target="#toc" data-topbar-visible="true"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" class="mx-auto"> <img src="/assets/img/sample/headshot.png" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">josh-ops</a></div><div class="site-subtitle font-italic">A DevOps Blog</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a><li class="nav-item"> <a href="/speaking/" class="nav-link"> <i class="fa-fw fas fa-comment ml-xl-3 mr-xl-3 unloaded"></i> <span>SPEAKING</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <button class="mode-toggle btn" aria-label="Switch Mode"> <i class="fas fa-adjust"></i> </button> <span class="icon-border"></span> <a href="https://github.com/joshjohanning" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github"></i> </a> <a href="https://twitter.com/jjjettrain" aria-label="twitter" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href="https://www.linkedin.com/in/joshua-johanning/" aria-label="linkedin" target="_blank" rel="noopener"> <i class="fab fa-linkedin"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper"><div id="topbar" class="container d-flex align-items-center justify-content-between h-100 pl-3 pr-3 pl-md-4 pr-md-4"> <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>Azure DevOps: Migrate Work Items to New Organization / Project</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper" class="d-flex justify-content-center"><div id="main" class="container pl-xl-4 pr-xl-4"><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-9 pr-xl-4"><div class="post pl-1 pr-1 pl-md-2 pr-md-2"><h1 data-toc-skip>Azure DevOps: Migrate Work Items to New Organization / Project</h1><div class="post-meta text-muted"> <span> Posted <em class="" data-ts="1632965700" data-df="ll" data-toggle="tooltip" data-placement="bottom"> Sep 29, 2021 </em> </span> <span> Updated <em class="" data-ts="1660327903" data-df="ll" data-toggle="tooltip" data-placement="bottom"> Aug 12, 2022 </em> </span><div class="mt-3 mb-3"> <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 584 361'%3E%3C/svg%3E" data-src="/assets/screenshots/2021-09-29-azure-devops-migrate-work-items/bulk-move-team-project.png" class="preview-img bg" alt="Migrating work items to a new project in Azure DevOps" width="584" height="361" data-proofer-ignore><figcaption class="pt-2 pb-2">Migrating work items to a new project in Azure DevOps</figcaption></div><div class="d-flex justify-content-between"> <span> By <em> Josh Johanning </em> </span><div> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="2154 words"> <em>11 min</em> read</span></div></div></div><div class="post-content"><h2 id="overview"><span class="mr-2">Overview</span><a href="#overview" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>If you have used Azure DevOps for a long time, you probably have asked / been asked if you can just simply move work items in one project to another. Maybe there was a company re-org, or the work was created in a ‘temporary’ project and needs a final resting spot, or you’re migrating to a new Azure DevOps organization for whatever reason. If you are vaguely aware of the tool, you’ll know that this can sometimes be easier said than done, especially if you want a migration with any level of fidelity. Not to say a full-fidelity migration is the end-all-be-all - sometimes the ask can be solved <em>with considerably less effort</em> if one was to just import the work items into the new project and if history is needed, simply refer to the old project. In like 3 weeks, the history will be meaningless anyways. In this post, I want to detail some options that you have as well as some caveats and gotchas.</p><p>I want to highlight at a high level the options:</p><div class="table-wrapper"><table><thead><tr><th>Scenario<th>Consideration<th>Option(s)<tbody><tr><td>Moving work items to a project within the same organization<td>Full fidelity<td>Native ‘<a href="https://docs.microsoft.com/en-us/azure/devops/boards/backlogs/move-change-type?view=azure-devops#move-a-work-item-to-another-project">move work item</a>’ tool in Azure DevOps<tr><td>Moving work items to a project in a different organization<td>Not full fidelity - just need the work items<td>Excel integration using <a href="https://docs.microsoft.com/en-us/azure/devops/boards/backlogs/office/bulk-add-modify-work-items-excel?view=azure-devops&amp;tabs=agile-process#import-work-items-flat-list">Office Integration Tools</a> (Windows-only) or <a href="https://docs.microsoft.com/en-us/azure/devops/boards/queries/import-work-items-from-csv?view=azure-devops">CSV Import/Export</a> (cross-platform)<tr><td>Moving work items to a project in a different organization<td>Full fidelity<td><a href="https://github.com/nkdAgility/azure-devops-migration-tools">nkdAgility/azure-devops-migration-tools</a> or <a href="https://github.com/Microsoft/vsts-work-item-migrator">microsoft/vsts-work-item-migrator</a></table></div><h2 id="moving-work-items-to-a-project-within-the-same-organization"><span class="mr-2">Moving work items to a project within the same organization</span><a href="#moving-work-items-to-a-project-within-the-same-organization" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>Lucky you, this is the easiest. In the <a href="https://docs.microsoft.com/en-us/azure/devops/release-notes/2016/apr-13-team-services#work-item-move-single-or-bulk">April 13 2016 sprint update</a> (that didn’t make it to Azure DevOps Server until 2019!!), the Azure DevOps team added the ability to move a work item between projects within the same organization. As quoted from the sprint note:</p><blockquote><p>Users may now move a work item(s) between team projects. The work item ID remains the same and all of the work item’s revisions are moved. Users may also change type during a move and add a comment to be included as part of the work item’s discussion section.</p></blockquote><p>You can either move a single work item from the <strong>ellipses</strong> and selecting the <strong>Move to Team Project</strong> option. This pops up the work item in the new project and prompts you to fix any area / iteration path validation errors before saving.</p><p>You can additionally write a query for the work items you want to migrate and multi-select (using ctrl-a, ctrl-click, ctrl-shift-click, etc.), <strong>right click</strong>, and select <strong>Move to Team Project…</strong>. From there, you will be brought to a page</p><p><img data-src="/assets/screenshots/2021-09-29-azure-devops-migrate-work-items/bulk-move-team-project.png" alt="bulk move team project" class="shadow" data-proofer-ignore> <em>Migrating multiple work items to a new project</em></p><p>This method moves the work item in whole, preserving the original work item ID and history. If you move parent/child items (i.e.: Feature/User Story), these relationships are preserved as well. You even have the option to convert the items being moved to the new team project to a different work item type.</p><p>There is <a href="https://docs.microsoft.com/en-us/azure/devops/boards/backlogs/move-change-type?view=azure-devops">more documentation of this feature on this page</a>.</p><h2 id="moving-work-items-to-a-project-to-a-different-organization---no-fidelity-but-easier"><span class="mr-2">Moving work items to a project to a different organization - no fidelity but easier</span><a href="#moving-work-items-to-a-project-to-a-different-organization---no-fidelity-but-easier" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>When moving work items to a different organization, the task becomes a little harder. The easiest of the options is to use the Excel <a href="https://docs.microsoft.com/en-us/azure/devops/boards/backlogs/office/bulk-add-modify-work-items-excel?view=azure-devops&amp;tabs=agile-process#import-work-items-flat-list">Office Integration Tools</a> plugin (Windows-only) or <a href="https://docs.microsoft.com/en-us/azure/devops/boards/queries/import-work-items-from-csv?view=azure-devops">CSV Import/Export</a> (cross-platform). It’s relatively simple, but still a little more complex than just moving work items to a new project in the UI.</p><p>There are two sub-options here, but both will require a query to be created.</p><p>Assuming you want child/parent relationships migrated, create a <a href="https://docs.microsoft.com/en-us/azure/devops/boards/queries/using-queries?view=azure-devops&amp;tabs=browser#use-a-tree-of-work-items-to-view-hierarchies"><em>tree</em> query</a> that includes all of the columns of data that you want to export. Here is an example list of columns:</p><blockquote><ul><li>Work item name<li>Work item type<li>Assigned to<li>State<li>Iteration Path<li>Area path<li>Tags<li>Description (text formatting might change slightly)<li>Acceptance Criteria (text formatting might change slightly)<li>Remaining Work<li>Effort<li>Backlog Priority<li>Priority<li>Value Area<li>Business Value<li>Time Criticality<li>Target Date</ul></blockquote><p>Fields not migrated with this method:</p><blockquote><ul><li>Any formatting in the description field should get exported as HTML, including pasted images, but the img src will still be the source project<li>Original creator<li>Date created<li>Attachments<li>History<li>Other links in work items i.e.: related to, affected by, changeset, hyperlinks…</ul></blockquote><h3 id="excel-office-integration-tools"><span class="mr-2">Excel Office Integration Tools</span><a href="#excel-office-integration-tools" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><ol><li>Create matching area paths / iteration paths<li>Create the query with the source work items and the columns/fields you want to export<li>Create the same query in the target project. I like to use the <a href="https://marketplace.visualstudio.com/items?itemName=ottostreifel.wiql-editor">Wiql Editor</a> to be able to easily copy/paste the query to the target project, sort of like a copy/pasting a SQL query<li>Open up the source query in Excel, using the ‘New List’ button under the Team ribbon<li>Open up a new Excel sheet and load the target query.<ul><li>The target query should be empty; it just should have all of the columns in the same order<li>This seems to work better in new instance of Excel vs. new tab in same sheet<li>Use the ‘Add Tree Level’ button to create the same number of ‘Title’ columns that the source query has - for example, if migrating Epics, Features, User Stories, Tasks, you would have Title 1, Title 2, Title 3, Title 4 in your source query</ul><li>Copy all of the content - except the work item ID - from the source query table into the target query table<li>Fix any ‘Assigned To’ names, Area Paths, Iteration Paths, etc.<li>Here’s a slightly tricky part - the work items have to be saved as <em>New</em> (or <em>To Do</em> for a task with the Scrum template)<ul><li>Excel will show a validation error for work items that have a non-new state<li>Replace each state with ‘New’ or the new equivalent</ul><li>Assuming there are no more validation errors, ‘Publish’ the work items and wait (tip: I’ve found that any more than 1000 at a time and Excel will start to choke up)<li>Now that the work items are published, do not refresh! You want them in the same exact list as you’ve copied them in - you can then return to your original query and copy the entire state column and paste it on top of the state column in the target table<li>Publish again - the imported work items should have their original states now</ol><h3 id="exportimport-csv"><span class="mr-2">Export/Import CSV</span><a href="#exportimport-csv" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><ol><li>Create matching area paths / iteration paths<li>Create the query with the source work items and the columns/fields you want to export<li>Export the query as CSV - click the ellipses in the upper right and ‘Export to CSV’<li>Open the CSV and remove all of the Work Item IDs from the Work Item ID column<li>Modify the CSV to change any fields that you want to ahead of time, such as area path / iteration paths<li>In the target project, go to Boards &gt; Work Items - there is an ‘Import Work Items’ button<li>Import the CSV and resolve any validation errors<ul><li>Excel will show a validation error for work items that have a non-new state<li>Replace each state with ‘New’ or the new equivalent (i.e.: ‘To Do’ for Tasks in the Scrum template)<li>You can use the <a href="https://docs.microsoft.com/en-us/azure/devops/boards/backlogs/bulk-modify-work-items?view=azure-devops#to-multi-select-and-open-the-context-menu">Shift key select multiple work items</a>, right click, and edit these items in bulk</ul><li>Once all the validation errors have been resolved, click the ‘Save Items’ button in the upper left<li>To put the original states back, from this same screen, click the ‘Export to CSV’ button - the CSV exported here with the new Work Item IDs should be in the same order as the query that was originally exported/imported. You can then return to the original CSV and copy the entire state column and paste it on top of the state column in the newly exported CSV<li>‘Import from CSV’ the new CSV that has the new Work Item IDs and the original state<li>‘Save Items’ again - the imported work items should have their original states now</ol><h2 id="moving-work-items-to-a-project-to-a-different-organization---full-fidelity-but-harder"><span class="mr-2">Moving work items to a project to a different organization - full fidelity but harder</span><a href="#moving-work-items-to-a-project-to-a-different-organization---full-fidelity-but-harder" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>There are a couple tools to do this, but the tool that I have the most experience in is the <a href="https://github.com/nkdAgility/azure-devops-migration-tools">nkdAgility/azure-devops-migration-tools</a> tool. Microsoft has a tool, <a href="https://github.com/Microsoft/vsts-work-item-migrator">Microsoft/vsts-work-item-migrator</a>, but I have not used.</p><p>If you are going to go down this route, I recommend checking out Martin’s <a href="https://www.youtube.com/watch?v=RCJsST0xBCE">video</a> about how this works and how you can configure the tool. Since the video was posted, the configuration and ‘Processors’ have changed slightly. Enabling and modifying the processor settings is how you configure the various components you want migrated. There is additional documentation for the tool on this <a href="https://nkdagility.github.io/azure-devops-migration-tools/">page</a>, and more information specifically on the processors on this <a href="https://nkdagility.github.io/azure-devops-migration-tools/Processors/WorkItemMigrationConfig.html">page</a>.</p><p>It’s a great tool and it works really well, but one thing I found difficult when I got started was getting a sample configuration file to use. Now, I haven’t used the migrator tool in a while, but I do have a v11 configuration file that I have used. Specifically, I have used <a href="https://github.com/nkdAgility/azure-devops-migration-tools/releases/tag/v11.9.34">version 11.9.34</a>.</p><p>My sample configuration file is found in this <a href="https://gist.github.com/joshjohanning/baa2de38466302f0c173e0dccdd887c0">gist</a>.</p><p>Search for the string <code class="language-plaintext highlighter-rouge">"Enabled":</code> and you will find the different processors that you can enable. In the sample configuration, the only enabled processor is the <code class="language-plaintext highlighter-rouge">WorkItemMigrationConfig</code> processor. You will need to modify the <code class="language-plaintext highlighter-rouge">WIQLQueryBit</code> to meet your needs. In the example highlighted below, the WIQL is going to migrate all User Stories, Tasks, Features, Epics, Bugs, and Test Cases - but not Test Suites and Test Plans (these are migrated in a the <code class="language-plaintext highlighter-rouge">TestPlansAndSuitesMigrationConfig</code> processor). If you were only migrating work items under an area path, you would add another clause, such as <code class="language-plaintext highlighter-rouge">AND [System.WorkItemType] UNDER "MyArea/Path"</code>.</p><p>Example:</p><div class="language-json highlighter-rouge"><div class="code-header"> <span data-label-text="JSON"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
</pre><td class="rouge-code"><pre><span class="w">      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"$type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"WorkItemMigrationConfig"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ReplayRevisions"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"PrefixProjectToNodes"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"UpdateCreatedDate"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"UpdateCreatedBy"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"BuildFieldTable"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"AppendMigrationToolSignatureFooter"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"WIQLQueryBit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AND [System.WorkItemType] IN ('User Story', 'Task', 'Feature', 'Epic', 'Bug', 'Test Case') AND [System.WorkItemType] NOT IN ('Test Suite', 'Test Plan')"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"WIQLOrderBit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"[System.ChangedDate] desc"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"LinkMigration"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"AttachmentMigration"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"AttachmentWorkingPath"</span><span class="p">:</span><span class="w"> </span><span class="s2">"c:</span><span class="se">\\</span><span class="s2">temp</span><span class="se">\\</span><span class="s2">WorkItemAttachmentWorkingFolder</span><span class="se">\\</span><span class="s2">"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"FixHtmlAttachmentLinks"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"SkipToFinalRevisedWorkItemType"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"WorkItemCreateRetryLimit"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
        </span><span class="nl">"FilterWorkItemsThatAlreadyExistInTarget"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"PauseAfterEachWorkItem"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"AttachmentMaxSize"</span><span class="p">:</span><span class="w"> </span><span class="mi">480000000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"CollapseRevisions"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"LinkMigrationSaveEachAsAdded"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"GenerateMigrationComment"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"NodeBasePaths"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nl">"WorkItemIDs"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
      </span><span class="p">}</span><span class="w">
</span></pre></table></code></div></div><h3 id="run-migration"><span class="mr-2">Run Migration</span><a href="#run-migration" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>Here is a high-level list of steps that you need to do in order to run the migration:</p><ol><li>Add the <code class="language-plaintext highlighter-rouge">ReflectedWorkItemId</code> field to each of the work items you are migrating in both the source and target project. I believe you can get away without adding it to the source project, but then it makes it impossible to re-start a migration<li>Install the version you want<ul><li><code class="language-plaintext highlighter-rouge">choco install vsts-sync-migrator</code> (oh yeah, this only runs on Windows only the last I checked)<li>Or download from the <a href="https://github.com/nkdAgility/azure-devops-migration-tools/releases">releases page</a>; I have most recently used <a href="https://github.com/nkdAgility/azure-devops-migration-tools/releases/tag/v11.9.34">version 11.9.34</a></ul><li>Set up your configuration file - my sample configuration file is found in this <a href="https://gist.github.com/joshjohanning/baa2de38466302f0c173e0dccdd887c0">gist</a><li>I usually run the Area Path processor (<code class="language-plaintext highlighter-rouge">TfsTeamSettingsProcessorOptions</code>, which references<code class="language-plaintext highlighter-rouge">TeamSettingsSource</code> and <code class="language-plaintext highlighter-rouge">TeamSettingsTarget</code>) by itself first to make sure the area path / iteration nodes are created. Decide if you want to enable <code class="language-plaintext highlighter-rouge">PrefixProjectToNodes</code>, where it will prefix the source project name in the area/iteration structure<li>Command to run migration and save the log to file: <code class="language-plaintext highlighter-rouge">migration.exe execute -c configuration.json &gt; log.txt</code></ol><p>The migrator has pretty good output logging, just search the output log file for <code class="language-plaintext highlighter-rouge">error</code> to work through any errors you have.</p><p><strong>Pro-tip on running the migration</strong>: If you can, run this inside a virtual machine inside of Azure so you have the best possible internet capabilities and don’t have to worry about your computer falling asleep.</p><p><strong>Old, bust maybe useful notes:</strong> I have a lot of notes in an old <a href="https://gist.github.com/joshjohanning/f43f90936b55f5fe00ea451edceb0579">README.md</a>, but it’s from v7.5 circa summer 2019, so it’s probably not super relevant, but including here in case anyone can glean anything from it. There are some additional explanations on what the various setting are for the <code class="language-plaintext highlighter-rouge">WorkItemMigrationConfig</code>. I also have an old <a href="https://gist.github.com/joshjohanning/e79ca39cf5b7819179a50699b3f65ea3">configuration file from v8.9.x</a> that might be helpful to some - I had a lot of success with it in July 2020.</p><h2 id="other-useful-scripts"><span class="mr-2">Other Useful Scripts</span><a href="#other-useful-scripts" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><ul><li><a href="https://gist.github.com/joshjohanning/95118273cc3f117fb457521e8ed185b1">Azure DevOps - Create Iterations PowerShell Script</a> (but you should be able to use this for areas as well, just replace <code class="language-plaintext highlighter-rouge">/Iterations</code> with <code class="language-plaintext highlighter-rouge">/Areas</code>)</ul><h2 id="conclusion"><span class="mr-2">Conclusion</span><a href="#conclusion" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>Migrating work items can be easy but can easily be made complicated if things such as history and attachments are a requirement. I mean, who really looks at the work item’s history anyway? I am a bigger fan of migrating the work items as is and leaving the work items in a read-only state in the source project that can be referred to for some time if history is needed.</p><p>But obviously, sometimes this isn’t possible, so that’s why an article like this exists! I hope someone finds this helpful down the line. Feel free to leave any additional tips that you’ve found in the comments, or feel free to reach out for additional strategies you are considering. Good luck!</p></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/azure-devops/'>Azure DevOps</a>, <a href='/categories/work-items/'>Work Items</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/azure-devops/" class="post-tag no-text-decoration" >Azure DevOps</a> <a href="/tags/work-items/" class="post-tag no-text-decoration" >Work Items</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=Azure+DevOps%3A+Migrate+Work+Items+to+New+Organization+%2F+Project+-+josh-ops&url=https%3A%2F%2Fjosh-ops.com%2Fposts%2Fazure-devops-migrate-work-items%2F" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=Azure+DevOps%3A+Migrate+Work+Items+to+New+Organization+%2F+Project+-+josh-ops&u=https%3A%2F%2Fjosh-ops.com%2Fposts%2Fazure-devops-migrate-work-items%2F" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://t.me/share/url?url=https%3A%2F%2Fjosh-ops.com%2Fposts%2Fazure-devops-migrate-work-items%2F&text=Azure+DevOps%3A+Migrate+Work+Items+to+New+Organization+%2F+Project+-+josh-ops" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <a href="https://www.linkedin.com/sharing/share-offsite/?url=https%3A%2F%2Fjosh-ops.com%2Fposts%2Fazure-devops-migrate-work-items%2F" data-toggle="tooltip" data-placement="top" title="Linkedin" target="_blank" rel="noopener" aria-label="Linkedin"> <i class="fa-fw fab fa-linkedin"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="Copy link" data-title-succeed="Link copied successfully!"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted"><div class="access"><div id="access-lastmod" class="post"><div class="panel-heading">Recently Updated</div><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/github-container-jobs/">Docker Container Jobs in GitHub Actions</a><li><a href="/posts/actions-runner-controller-without-cert-manager/">Configure actions-runner-controller without cert-manager</a><li><a href="/posts/azdo-commit-message-validator-and-pr-linker-github-action/">Azure DevOps Commit Message Validator and PR Linker GitHub Action</a><li><a href="/posts/azure-devops-migrate-work-items/">Azure DevOps: Migrate Work Items to New Organization / Project</a><li><a href="/posts/github-misc-scripts/">Miscellaneous GitHub API/GraphQL/CLI Automation Scripts</a></ul></div><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/github/">GitHub</a> <a class="post-tag" href="/tags/azure-devops/">Azure DevOps</a> <a class="post-tag" href="/tags/github-actions/">GitHub Actions</a> <a class="post-tag" href="/tags/pull-requests/">Pull Requests</a> <a class="post-tag" href="/tags/github-advanced-security/">GitHub Advanced Security</a> <a class="post-tag" href="/tags/scripts/">Scripts</a> <a class="post-tag" href="/tags/work-items/">Work Items</a> <a class="post-tag" href="/tags/branch-protection-rules/">Branch Protection Rules</a> <a class="post-tag" href="/tags/dependabot/">Dependabot</a> <a class="post-tag" href="/tags/codeql/">CodeQL</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"><div class="panel-heading pl-3 pt-2 mb-2">Contents</div><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 pl-3 pr-3 pr-xl-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/reparent-work-items/"><div class="card-body"> <em class="small" data-ts="1610922600" data-df="ll" > Jan 17, 2021 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Azure DevOps: Bulk Reparent Work Items</h3><div class="text-muted small"><p> Reparent Work Items in the UI If you are reparenting only a few work items, then the easiest way is to use the Mapping view in the Azure DevOps backlog, as described by Microsoft: Enabling the m...</p></div></div></a></div><div class="card"> <a href="/posts/azdo-delete-custom-field/"><div class="card-body"> <em class="small" data-ts="1628656200" data-df="ll" > Aug 10, 2021 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Azure DevOps: Delete Custom Fields on Process Template</h3><div class="text-muted small"><p> Overview I had the annoying misfortune today of running into an issue in Azure DevOps when customizing a process template. I added a field to a work item but I created the field as the wrong type....</p></div></div></a></div><div class="card"> <a href="/posts/migrate-azure-devops-work-items-to-github-issues/"><div class="card-body"> <em class="small" data-ts="1646992800" data-df="ll" > Mar 11, 2022 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Migrate Azure DevOps Work Items to GitHub Issues</h3><div class="text-muted small"><p> Overview Quick post since most of this is in the README in the repo, but I created a Powershell script to migrate Azure DevOps work items to GitHub Issues. It’s certainly not perfect, but there wa...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/github-code-coverage/" class="btn btn-outline-primary" prompt="Older"><p>GitHub Actions: Publish Code Coverage Summary to Pull Requests</p></a> <a href="/posts/azure-frontdoor-preview-experience/" class="btn btn-outline-primary" prompt="Newer"><p>Azure Front Door Standard/Premium Preview - Tips, Tricks, and Lessons Learned</p></a></div><script src="https://utteranc.es/client.js" repo="joshjohanning/joshjohanning.github.io" issue-term="title" crossorigin="anonymous" async> </script> <script type="text/javascript"> $(function() { const origin = "https://utteranc.es"; const iframe = "iframe.utterances-frame"; const lightTheme = "github-light"; const darkTheme = "github-dark"; let initTheme = lightTheme; if ($("html[data-mode=dark]").length > 0 || ($("html[data-mode]").length == 0 && window.matchMedia("(prefers-color-scheme: dark)").matches)) { initTheme = darkTheme; } addEventListener("message", (event) => { let theme; /* credit to <https://github.com/utterance/utterances/issues/170#issuecomment-594036347> */ if (event.origin === origin) { /* page initial */ theme = initTheme; } else if (event.source === window && event.data && event.data.direction === ModeToggle.ID) { /* global theme mode changed */ const mode = event.data.message; theme = (mode === ModeToggle.DARK_MODE ? darkTheme : lightTheme); } else { return; } const message = { type: "set-theme", theme: theme }; const utterances = document.querySelector(iframe).contentWindow; utterances.postMessage(message, origin); }); }); </script></div></div><footer class="row pl-3 pr-3"><div class="col-12 d-flex justify-content-between align-items-center text-muted pl-0 pr-0"><div class="footer-left"><p class="mb-0"> © 2022 <a href="https://github.com/joshjohanning">Josh Johanning</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/github/">GitHub</a> <a class="post-tag" href="/tags/azure-devops/">Azure DevOps</a> <a class="post-tag" href="/tags/github-actions/">GitHub Actions</a> <a class="post-tag" href="/tags/pull-requests/">Pull Requests</a> <a class="post-tag" href="/tags/github-advanced-security/">GitHub Advanced Security</a> <a class="post-tag" href="/tags/scripts/">Scripts</a> <a class="post-tag" href="/tags/work-items/">Work Items</a> <a class="post-tag" href="/tags/branch-protection-rules/">Branch Protection Rules</a> <a class="post-tag" href="/tags/dependabot/">Dependabot</a> <a class="post-tag" href="/tags/codeql/">CodeQL</a></div></div></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No results found.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/lozad/dist/lozad.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/dayjs@1/dayjs.min.js,npm/dayjs@1/locale/en.min.js,npm/dayjs@1/plugin/relativeTime.min.js,npm/dayjs@1/plugin/localizedFormat.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/js/bootstrap.bundle.min.js"></script> <script defer src="/unregister.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=G-GE92ZJY22K"></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'G-GE92ZJY22K'); }); </script>
